<style>
    .app-content {
        width: 100%;
    }

    nav > .breadcrumb {
        padding-left: 0px !important;
    }

    .breadcrumb > li {
        font-size: 17px;
        font-weight: 700;
    }

    .status-icon {
        width: 15px;
        height: 15px;
        border-radius: 50%;
        border: 2px solid #808080;
        margin-top: 2px;
    }

    .status-icon-border-active {
        border: 2px solid #0094ff !important;
    }

    .cms-item-link-active {
        color: #0094ff !important;
        font-weight: 600 !important;
    }

    @media (min-width: 1024px) {
        .nav-left {
            width: 30%;
            float: left;
            min-height: calc(90vh + 28px);
        }

        .nav-right {
            border: 1px solid #e5dfdf !important;
            width: 70%;
            float: right;
            height: calc(84vh + 28px);
        }

        .nav-right-content {
            padding-left: 30px;
            padding-right: 30px;
            /*border-left: 1px solid #d9cbcb;*/
        }

        .nav-left-content {
            padding-left: 20px;
            padding-right: 25px;
        }

        .manual {
            font-size: 1.4em;
            font-weight: 700;
            margin-bottom: .25em;
            text-align: left;
            display: block;
            font-family: open sans,open sans regular,sans-serif;
        }

        .item-cms {
            border-bottom: 1px solid #d9cbcb;
        }

            .item-cms.last {
                border-bottom: none;
            }

        .cms-item-link {
            font-size: 1.1em;
            font-weight: 400;
            flex: 1;
            display: flex;
            color: black;
        }

        .title-cms {
            display: none;
        }

        #viewContent img {
            position: inherit;
            max-width: 97% !important;
        }
    }

    @media (max-width: 736px) {
        .nav-left {
            width: 0%;
            float: left;
            min-height: calc(90vh + 28px);
        }

        .nav-right {
            width: 70%;
            float: right;
            height: calc(84vh + 28px);
            box-shadow: 0px 1px 6px #c1c1c1;
        }

        .nav-left-full {
            width: 100% !important;
            float: left;
            min-height: 90vh;
        }

        .nav-right-hide {
            display: none;
        }

        .title-cms {
            font-size: 16px;
            font-weight: 600;
            text-decoration: underline !important;
        }

        #viewContent img {
            position: inherit;
            max-width: 97% !important;
        }

        #breadcrumb {
            margin-top: 15px;
        }

        .menu-toggle {
            display: none !important;
        }

        li {
            margin-left: 20px;
        }

        .navbar-wrapper {
            background-image: url(/images/menu/Background.png) !important;
        }
    }

    @media (min-width: 768px) and (max-width: 1024px) {
        .title-cms {
            display: none;
        }

        #viewContent img {
            position: inherit;
            max-width: 100% !important;
        }
    }

    .title-cat {
        width: 100%;
        /*font-weight: 600;*/
        font-size: 14px;
        padding: 5px 0px;
    }

    #viewContent {
        padding-top: 15px;
        max-height: 650px;
        max-height: 80vh;
        overflow-x: auto;
    }

    .nav-left {
        padding-right: 30px;
    }

    .nav-left-content {
        max-height: 650px;
        overflow-x: auto;
        min-height: calc(80vh + 28px);
        padding-right: 0px;
        border-bottom: 1px solid #d9cbcb;
    }

    /*CSS SCROLL*/
    /* width */
    ::-webkit-scrollbar {
        width: 11px;
    }

    /* Track */
    ::-webkit-scrollbar-track {
        box-shadow: inset 0 0 1px grey;
        border-radius: 5px;
    }

    /* Handle */
    ::-webkit-scrollbar-thumb {
        background: grey;
        border-radius: 0px;
    }

        /* Handle on hover */
        ::-webkit-scrollbar-thumb:hover {
            background: #3498db;
        }

    /*CSS SCROLL*/

    .item-file {
        white-space: nowrap;
        overflow-y: auto;
        width: 100%;
        /*display: flex;*/
        float: right;
        padding: 5px;
        margin-bottom: 25px;
    }

    #tblDataRequestImport .table-scrollable {
        height: auto;
        overflow-y: auto;
    }

    .tree {
        width: 100%;
    }

    .treegrid-expander {
        display: none;
    }

    .right-position {
        padding-right: 7px;
    }

    /*.mnw-780 .modal-dialog {
        min-width: 780px;
    }*/

    tr.active {
        background-color: #cccddf !important;
    }

    span.child {
        background-color: white;
    }

    .full-height .ui-select-choices {
        max-height: calc(100vh - 200px) !important;
    }
    .table-scrollable {
        height:auto;
        overflow-y: auto !important;
    }
</style>
<!--<div class="nav-left">
    <div class="nav-left-content">
        <div class="item-cms pt10 pb10" ng-repeat="x in listCms" style="padding-left: {{x.Level * 20}}px" role="button">
            <div class="title-cat" ><i class="fa fa-folder" aria-hidden="true" ng-class="{'text-warning' : x.Level == 0 , 'text-primary': x.Level != 0}"></i> <span ng-class="{'text-purple' : x.Level == 0 , '': x.Level != 0}">{{x.Title}}</span></div>
            <div class="d-flex pt5 pb5" ng-repeat="k in x.ListCmsItem" style="width: 100%;">
                <i class="fa fa-file-text-o text-primary pt3 pl15"></i>&nbsp; <a class="cms-item-link" ng-class="{'cms-item-link-active' : markId == k.id}" ng-click="viewContent(k.id, x.Id)">{{k.title}}</a>
            </div>
        </div>
    </div>
</div>-->

<div class="row">
    <div class="col-md-6" id="breadcrumb-sub">
    </div>
    <div class="col-md-4 d-flex">
        <div class="input-group mr10">
            <input ng-model="model.Content" class="form-control br24" type="text" placeholder="{{'USER_MANUAL_CONNENT_SEARCH' | translate }}" ng-keydown="($event.keyCode == 13) &amp;&amp; search()">
        </div>
        <div class="btn-group actions d-flex pull-right" style="flex-basis: 60px">
            <div class="text-center pr10 mt10">
                <a class1="btn btn-icon-only btn-circle btn-outline purple-custom" ng-click="search()">
                    <i class="fas fa-search fs25"></i>
                    <!--<span><i class="fa fa-search"></i></span>-->
                </a>
                <!--<p class="text-underline fs9 mb5 pt3">{{'COM_BTN_SEARCH' | translate}}</p>-->
            </div>
        </div>
    </div>
</div>
<div class="nav-left">
    <div class="input-group br24 search-group">
        <div class="input-group br24 full-height">
            <ui-select tagging ng-model="model.parent" theme="bootstrap" ng-change="reloadCmsCat(true)">
                <ui-select-match placeholder="{{'CMS_CAT_TXT_PARENT' | translate}}..."><div class="bold">{{$select.selected.Title}}</div></ui-select-match>
                <ui-select-choices repeat="x.Id as x  in listParenCat | filter: $select.search">
                    <div style="padding-left: {{30 * x.Level}}px">
                        <i ng-show="x.HasChild" class="fa fa-folder-open icon-state-warning"></i>
                        <i ng-show="!x.HasChild" class="fa fa-folder text-info"></i>
                        {{x.Title}}
                    </div>
                </ui-select-choices>
            </ui-select>
            <span class="input-group-btn">
                <button type="button" ng-click="model.parent=''; reloadCmsCat(true)" class="btn btn-default no-shadow" style="">
                    <span class="glyphicon glyphicon-remove"></span>
                </button>
            </span>
        </div>
    </div>
    <div class="nav-left-content mt10">
        <table class="tree" tree-grid-user-manual="" ng-model="model.isCmsLoadingFinished">
            <tbody dnd-list1="listCms" dnd-allowed-types1="['cat']">
                <tr role="button"><td ng-click="addCmsCategory()"><img src="/images/icons/create_folder_icon.png" style="height:18px; margin-right: 10px" />{{'USER_MANUAL_ADD_CATEGORY' | translate }}</td></tr> <!--USRMAN_ADD_CMS_CAT-->
                <tr class="item-cms pt10 pb10 treegrid-{{x.Id}} treegrid-parent-{{x.ParentId}}" ng-click="mark(x)" ng-class="{'active' : x.IsMarked == true, 'last': $last == true}" ng-repeat="x in listCms" style="padding-left: {{x.Level * 20}}px" role="button" dnd-draggable1="x" dnd-effect-allowed1="copyMove" dnd-type1="'cat'" dnd-moved1="listCms.splice($index, 1)" my-repeat-directive="">
                    <td class="title-cat" dnd-list1="x.ListCmsItem" dnd-allowed-types1="['item']">
                        <i class="fa fa-folder" style="color: #fee490" style1="color: rgb(227, 227, 0)" ng-if1="x.Level == 0"></i>
                        <i ng-click="expand(x)" ng-if="x.ListCmsItem.length > 0" class="pt5" ng-class="{'fa fa-caret-up pull-right right-position': x.IsExpand,
                                                           'fa fa-caret-down pull-right right-position': !x.IsExpand}">
                        </i>
                        <span ng-click1="expand(x)" ng-dblclick="editCmsCategory(x.Id)">{{x.Title}} <i class="fas fa-paste pl10" ng-click="pasteCmsItem(x.Id)" style="color: #4c6ef5"></i></span>
                        <span class="pull-right mr15" ng-click="addCmsItem(x.Id)"><img src="/images/icons/create_item_icon.png" style="height:18px" /></span>
                        <span ng-show="k.IsShow" class="d-flex pt5 pb5 child" ng-class="{'active' : markId == k.id}" ng-repeat="k in x.ListCmsItem" style="width: 100%;" dnd-draggable1="k" dnd-effect-allowed1="copyMove" dnd-type1="'item'" dnd-moved1="x.ListCmsItem.splice($index, 1)">
                            <i class="fa fa-file-text-o text-primary" style="padding-left: {{x.Level * 20 + 10}}px"></i>&nbsp;
                            <a class="fs14 fw400 cms-item-link" ng-class="{'cms-item-link-active' : markId == k.id}">
                                <span ng-dblclick="editCmsItem(k.id)" ng-click="viewContent(k.id, x.Id)">{{k.title}}</span>
                                <i class="fas fa-copy pt3 pl10" style="color: #15aabf" ng-click="copyCmsItem(k.id)"></i>
                            </a>
                        </span>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
<div class="nav-right">
    <div class="nav-right-content pr-0" ng-show="markId != 0">
        <a class="title-cms"><i ng-click="backMobile()" class="fa fa-caret-left pr10 pl5 fs20"></i>{{title}}</a>
        <div id="viewContent">
        </div>
        <div class="item-file" ng-if="listFile.length > 0 && markId != 0">
            <div ng-repeat="x in listFile">
                <div class="col-md-6">
                    <a class="fs12 pr5 text-underline" ng-click="download(x.Id)"><i class="fs15 fa fa-download text-green"></i>&nbsp;{{$index + 1}}. {{x.FileName}}</a>
                </div>
                <div class="col-md-6">
                    <a class="fs12 pr5 text-underline" ng-click="viewFile(x)"><i class="fs12 fa fa-eye text-brown"></i>&nbsp;{{x.FileName}}</a>
                </div>
            </div>
        </div>
    </div>
    <div ng-show="markId == 0">
        <table class="table dataTable table-hover table-striped"
               datatable
               dt-options="dtOptions"
               dt-columns="dtColumns"
               dt-instance="dtInstance"
               id="tblDataRequestImport"></table>
    </div>
</div>

<script type="text/javascript">
    setTimeout(function () {
        //$('.tree').treegrid({
        //    expanderExpandedClass: 'fa fa-caret-up pull-right pt5',
        //    expanderCollapsedClass: 'fa fa-caret-down pull-right pt5'
        //});

        //$('.tree').treegrid('collapseAll');
    }, 1000);
</script>



